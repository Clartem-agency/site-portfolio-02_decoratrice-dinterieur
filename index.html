<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title id="meta-title"></title>
    <meta content="" name="description" id="meta-description" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&amp;family=Poppins:wght@400;500;600&amp;display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                container: { center: true, padding: { DEFAULT: '1rem', lg: '2rem' } },
                extend: {
                    colors: {
                        cream: '#fbfaf9',
                        linen: '#f5f3ef',
                        sage: '#d1e0d1',
                        primary: '#98b398',         /* vert sauge */
                        primaryDark: '#7e9f83',
                        charcoal: '#2c2421',        /* brun très foncé (textes) */
                        taupe: '#7c706a',
                        gold: '#d7a542',
                    },
                    fontFamily: {
                        sans: ['Poppins', 'ui-sans-serif', 'system-ui', 'sans-serif'],
                        display: ['"Playfair Display"', 'serif'],
                    },
                    boxShadow: {
                        soft: '0 10px 30px rgba(44,36,33,.08)',
                        card: '0 6px 18px rgba(44,36,33,.06)',
                    },
                    borderRadius: {
                        '2.5xl': '1.25rem',
                    },
                    textShadow: {
                        DEFAULT: '0 2px 8px rgba(0, 0, 0, 0.7)',
                        sm: '0 1px 4px rgba(0, 0, 0, 0.6)',
                    },
                    keyframes: {
                        floaty: { '0%,100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-8px)' } },
                        fadeUp: { from: { opacity: 0, transform: 'translateY(16px)' }, to: { opacity: 1, transform: 'translateY(0)' } },
                    },
                    animation: {
                        floaty: 'floaty 2.8s ease-in-out infinite',
                        fadeUp: 'fadeUp .7s ease-out both',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            scroll-behavior: smooth
        }

        .gradient-title {
            background: linear-gradient(90deg, #7e9f83 0%, #98b398 45%, #d1e0d1 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent
        }

        .gradient-accent {
            background: linear-gradient(90deg, #d7a542 0%, #f5f3ef 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent
        }

        .focus-outline:focus {
            outline: 3px solid #98b3983b;
            outline-offset: 2px
        }
    </style>
    <link id="favicon-32" rel="icon" sizes="32x32" type="image/png" />
    <link id="favicon-192" rel="icon" sizes="192x192" type="image/png" />
    <link id="apple-touch-icon" rel="apple-touch-icon" sizes="180x180" />
    <meta name="theme-color" id="theme-color" />
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>

<body class="bg-cream text-charcoal font-sans antialiased selection:bg-sage/60 selection:text-charcoal">

    <!-- Barre sticky -->
    <header
        class="fixed inset-x-0 top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-cream/70 border-b border-sage/50"
        id="top">
        <nav class="container flex items-center justify-between h-20">
            <a class="group gap-3 items-center gap-2 flex inline-flex" href="#hero">
                <img id="header-logo" alt="" class="h-16 md:h-14 w-auto" decoding="async" loading="eager" src="" />
                <span class="sr-only" id="header-logo-sr"></span>
            </a>
            <button aria-label="Ouvrir le menu" class="lg:hidden p-2 rounded-md hover:bg-sage/40 focus-outline"
                id="burger">
                <svg class="stroke-charcoal" fill="none" height="22" viewBox="0 0 24 24" width="22">
                    <path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round" stroke-width="1.5"></path>
                </svg>
            </button>
            <ul class="hidden lg:flex items-center gap-7" id="menu-desktop"></ul>
        </nav>
        <!-- menu mobile -->
        <div class="lg:hidden hidden border-t border-sage/60 bg-cream/95" id="drawer">
            <div class="container py-4 space-y-3" id="menu-mobile"></div>
        </div>
    </header>

    <!-- HERO -->
    <section class="pt-20 lg:pt-24" id="hero">
        <div class="container">
            <div
                class="relative h-[75vh] min-h-[500px] max-h-[700px] flex flex-col items-center justify-center rounded-2.5xl overflow-hidden shadow-soft">
                <img id="hero-bg-image" src="" alt="" class="absolute inset-0 w-full h-full object-cover -z-20" />
                <div class="absolute inset-0 bg-cream/60 -z-10"></div>
                <div class="relative text-center text-charcoal px-4">
                    <h1 id="hero-title" class="font-display text-4xl/[1.1] sm:text-5xl lg:text-6xl text-charcoal"></h1>
                    <p id="hero-subtitle" class="mt-5 text-[17px] leading-7 text-taupe max-w-2xl mx-auto"></p>
                    <div id="hero-buttons" class="mt-8 flex flex-col sm:flex-row gap-4 sm:gap-5 items-center justify-center"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Réalisations -->
    <section class="mt-20 sm:mt-24" id="realisations">
        <div class="container">
            <h2 id="realisations-title" class="font-display text-3xl sm:text-4xl text-center text-charcoal"></h2>
            <div class="mt-8 grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
                <div id="realisations-grid" class="cards grid sm:contents lg:contents">
                    <!-- Portfolio items will be injected here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Services -->
    <section class="mt-20 sm:mt-28" id="services">
        <div class="container">
            <h2 id="services-title" class="font-display text-3xl sm:text-4xl text-center text-charcoal"></h2>
            <div id="services-grid" class="mt-12 grid gap-y-10 gap-x-8 lg:grid-cols-3 items-stretch">
                <!-- Service cards will be injected here -->
            </div>
        </div>
    </section>

    <!-- À propos -->
    <section class="mt-20 sm:mt-28" id="histoire">
        <div class="container grid lg:grid-cols-2 gap-10 lg:gap-16 items-center">
            <div class="order-2 lg:order-1">
                <h2 id="about-title" class="font-display text-3xl sm:text-4xl text-charcoal"></h2>
                <div id="about-text" class="mt-4 space-y-4 text-taupe text-base leading-relaxed"></div>
                <div id="about-buttons" class="mt-8 flex flex-col sm:flex-row gap-4"></div>
            </div>
            <div class="order-1 lg:order-2">
                <figure class="relative rounded-2.5xl overflow-hidden shadow-soft ring-1 ring-sage/60">
                    <img id="about-image" alt="" class="w-full h-full object-cover aspect-[1/1]" decoding="async"
                        loading="lazy" src="" />
                </figure>
            </div>
        </div>
    </section>

    <!-- Témoignages -->
    <section class="mt-20 sm:mt-28">
        <div class="container">
            <h2 id="testimonials-title" class="font-display text-3xl sm:text-4xl text-center text-charcoal"></h2>
            <div class="mt-8 relative">
                <div class="overflow-hidden rounded-2.5xl bg-white ring-1 ring-sage/60 shadow-card" id="slider">
                    <div class="whitespace-nowrap transition-transform duration-500 will-change-transform" id="slides">
                        <!-- Slides will be injected here -->
                    </div>
                </div>
                <div id="testimonials-dots" class="mt-4 flex items-center justify-center gap-2">
                    <!-- Dots will be injected here -->
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="mt-20 sm:mt-28" id="faq">
        <div class="container">
            <h2 id="faq-title" class="font-display text-3xl sm:text-4xl text-center text-charcoal"></h2>
            <div id="faq-list" class="mx-auto max-w-3xl mt-8 space-y-4">
                <!-- FAQ items will be injected here -->
            </div>
            <div class="text-center mt-12">
                <p id="faq-cta-text" class="text-taupe"></p>
                <a id="faq-cta-button"
                    class="mt-4 ring-1 ring-black/5 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#557f6a]/60 inline-flex items-center justify-center rounded-full bg-[#557f6a] text-white px-6 py-3 shadow-soft hover:bg-[#4a6d5a] hover:shadow-card transition-all focus-outline"
                    href=""></a>
            </div>
        </div>
    </section>

    <!-- CONTACT -->
    <section class="mt-20 sm:mt-28" id="contact">
        <div class="container">
            <h2 id="contact-title" class="font-display text-3xl sm:text-4xl text-center text-charcoal"></h2>
            <p id="contact-subtitle" class="mt-3 text-center text-taupe max-w-2xl mx-auto"></p>
            <div class="mt-10 max-w-5xl mx-auto bg-white rounded-2.5xl shadow-soft ring-1 ring-sage/60 overflow-hidden">
                <div class="grid lg:grid-cols-[minmax(0,_1fr)_minmax(0,_2fr)]">
                    <div class="p-6 sm:p-8 border-b lg:border-b-0 lg:border-r border-linen">
                        <figure class="flex items-center gap-3">
                            <img id="contact-card-image" src="" alt="" class="h-14 w-14 rounded-full object-cover">
                            <figcaption>
                                <p id="contact-card-name" class="text-sm text-taupe"></p>
                                <h3 id="contact-card-meeting-title" class="font-display text-xl text-charcoal"></h3>
                            </figcaption>
                        </figure>
                        <div class="mt-6 space-y-3 text-charcoal">
                            <div class="flex items-center gap-3">
                                <svg class="h-5 w-5 text-taupe" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                                    stroke-width="1.5">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <span id="contact-card-duration"></span>
                            </div>
                            <div class="flex items-start gap-3">
                                <svg class="h-5 w-5 text-taupe shrink-0" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor" stroke-width="1.5">
                                    <path stroke-linecap="round"
                                        d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9A2.25 2.25 0 0013.5 5.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z">
                                    </path>
                                </svg>
                                <span id="contact-card-type"></span>
                            </div>
                        </div>
                        <p id="contact-card-description" class="mt-6 text-sm text-taupe"></p>
                    </div>
                    <div class="p-6 sm:p-8">
                        <h4 class="font-display text-lg text-charcoal">Sélectionnez une date & une heure</h4>
                        <div class="mt-6">
                            <div class="flex items-center justify-between">
                                <button type="button" aria-label="Mois précédent"
                                    class="p-2 rounded-full hover:bg-linen focus-outline">
                                    <svg class="h-5 w-5 text-charcoal" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 19l-7-7 7-7"></path>
                                    </svg>
                                </button>
                                <div id="contact-calendar-month" class="font-medium text-charcoal"></div>
                                <button type="button" aria-label="Mois suivant"
                                    class="p-2 rounded-full hover:bg-linen focus-outline">
                                    <svg class="h-5 w-5 text-charcoal" fill="none" viewBox="0 0 24 24"
                                        stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </button>
                            </div>
                            <div class="mt-4 grid grid-cols-7 gap-1 text-center text-xs text-taupe">
                                <div>Lun</div>
                                <div>Mar</div>
                                <div>Mer</div>
                                <div>Jeu</div>
                                <div>Ven</div>
                                <div>Sam</div>
                                <div>Dim</div>
                            </div>
                            <div class="mt-2 grid grid-cols-7 gap-1">
                                <div class="text-center py-2 text-gray-400">30</div>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">1</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">2</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full bg-primary text-white ring-2 ring-primaryDark ring-offset-2 focus-outline">3</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">4</button>
                                <div class="text-center py-2 text-gray-400 line-through">5</div>
                                <div class="text-center py-2 text-gray-400 line-through">6</div>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">7</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">8</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">9</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">10</button>
                                <button type="button"
                                    class="text-center py-2 rounded-full hover:bg-primary/20 focus-outline">11</button>
                                <div class="text-center py-2 text-gray-400 line-through">12</div>
                                <div class="text-center py-2 text-gray-400 line-through">13</div>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h5 id="contact-calendar-selected-day" class="font-medium text-charcoal"></h5>
                            <div id="contact-calendar-times" class="mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3">
                                <!-- Time slots will be injected here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="mt-20 sm:mt-28">
        <div class="border-t border-sage/60 bg-linen/60">
            <div class="container py-12 grid md:grid-cols-3 gap-10">
                <div>
                    <div class="flex items-center gap-3">
                        <img id="footer-logo" src="" alt="" width="64" height="64"
                            class="h-10 w-10 md:h-12 md:w-12 rounded-full object-cover shrink-0" decoding="async"
                            loading="lazy">
                        <span id="footer-brand-name" class="text-lg font-medium text-[#2c2421]"></span>
                    </div>
                    <p id="footer-description" class="mt-3 text-taupe max-w-sm"></p>
                    <div id="footer-socials" class="mt-4 flex items-center gap-3"></div>
                </div>
                <div>
                    <h4 class="font-medium">Navigation</h4>
                    <ul id="footer-nav" class="mt-3 space-y-2 text-taupe"></ul>
                </div>
                <div>
                    <h4 class="font-medium">Me contacter</h4>
                    <ul id="footer-contact" class="mt-3 space-y-2 text-taupe"></ul>
                </div>
            </div>
            <div class="border-t border-sage/60">
                <div
                    class="container py-6 text-sm text-taupe flex flex-col sm:flex-row items-center justify-between gap-3">
                    <p id="footer-copyright"></p>
                    <a id="footer-back-to-top" class="text-taupe hover:text-primary" href="#top"></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Original Scripts (Animation, Burger Menu, etc.) -->
    <script id="original-scripts">
        // This script will be populated by the injection logic after content is loaded
    </script>

    <!-- Lightbox (Galerie d'images) -->
    <div class="inset-0 justify-center z-50 items-center p-4 hidden flex fixed bg-black/70" id="lightbox-overlay">
        <button aria-label="Fermer l'image"
            class="absolute top-4 right-4 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/90 text-[#2c2421] shadow ring-1 ring-black/5 hover:bg-white transition"
            type="button">×</button>
        <img alt="" class="max-h-[90vh] max-w-[90vw] rounded-2xl shadow-2xl object-contain will-change-transform"
            decoding="async" id="lightbox-img" loading="eager" />
        <button
            class="absolute top-1/2 -translate-y-1/2 inline-flex h-12 w-12 items-center justify-center rounded-full bg-white/90 text-[#2c2421] shadow ring-1 ring-black/5 hover:bg-white transition left-4"
            data-dir="prev" type="button">‹</button>
        <button
            class="absolute top-1/2 -translate-y-1/2 inline-flex h-12 w-12 items-center justify-center rounded-full bg-white/90 text-[#2c2421] shadow ring-1 ring-black/5 hover:bg-white transition right-4"
            data-dir="next" type="button">›</button>
    </div>
    <script id="lightbox-script">
        // This script will be populated by the injection logic after content is loaded
    </script>

    <!-- SCRIPT D'INJECTION DE CONTENU -->
    <script>
        async function populateContent() {
            try {
                const response = await fetch('./content.json');
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.json();

                // Meta
                document.getElementById('meta-title').textContent = data.meta.title;
                document.getElementById('meta-description').setAttribute('content', data.meta.description);
                document.getElementById('favicon-32').setAttribute('href', data.meta.favicon_32);
                document.getElementById('favicon-192').setAttribute('href', data.meta.favicon_192);
                document.getElementById('apple-touch-icon').setAttribute('href', data.meta.apple_touch_icon);
                document.getElementById('theme-color').setAttribute('content', data.meta.theme_color);

                // Header
                document.getElementById('header-logo').src = data.header.logo.src;
                document.getElementById('header-logo').alt = data.header.logo.alt;
                document.getElementById('header-logo-sr').textContent = data.header.logo.sr_text;

                const menuDesktop = document.getElementById('menu-desktop');
                let menuDesktopHTML = '';
                data.header.nav_links.forEach(link => {
                    menuDesktopHTML += `<li><a class="hover:text-primary transition-colors" href="${link.href}">${link.text}</a></li>`;
                });
                menuDesktopHTML += `
                    <li>
                        <a class="ring-1 ring-black/5 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#557f6a]/60 inline-flex items-center gap-2 rounded-full bg-[#557f6a] text-white px-5 py-2.5 shadow-soft hover:bg-[#4a6d5a] transition-all focus-outline" href="${data.header.cta.href}">
                            <svg fill="none" height="18" viewBox="0 0 24 24" width="18">
                                <path d="M21 10v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V10" stroke="currentColor" stroke-width="1.5"></path>
                                <path d="M3 7l8.16 5.1c.52.33 1.16.33 1.68 0L21 7" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path>
                            </svg>
                            ${data.header.cta.text}
                        </a>
                    </li>`;
                menuDesktop.innerHTML = menuDesktopHTML;

                const menuMobile = document.getElementById('menu-mobile');
                let menuMobileHTML = '';
                data.header.nav_links.forEach(link => {
                    menuMobileHTML += `<a class="block py-2 hover:text-primary" href="${link.href}">${link.text}</a>`;
                });
                menuMobileHTML += `<a class="mt-2 ring-1 ring-black/5 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#557f6a]/60 inline-flex items-center gap-2 rounded-full bg-[#557f6a] text-white px-5 py-2.5 shadow-soft hover:bg-[#4a6d5a] transition-colors" href="${data.header.cta.href}">${data.header.cta.text}</a>`;
                menuMobile.innerHTML = menuMobileHTML;

                // Hero
                document.getElementById('hero-bg-image').src = data.hero.background_image.src;
                document.getElementById('hero-bg-image').alt = data.hero.background_image.alt;
                document.getElementById('hero-title').innerHTML = data.hero.title;
                document.getElementById('hero-subtitle').textContent = data.hero.subtitle;
                document.getElementById('hero-buttons').innerHTML = `
                    <a class="ring-1 ring-black/5 group relative inline-flex items-center gap-3 rounded-[40px] px-7 py-3.5 bg-[#557f6a] hover:bg-[#4a6d5a] text-white font-semibold transition-all duration-300 will-change-transform shadow-[0_8px_24px_rgba(44,36,33,.25)] hover:-translate-y-0.5 hover:shadow-[0_14px_36px_rgba(44,36,33,.30)] active:translate-y-0 focus:outline-none focus-visible:ring-4 focus-visible:ring-primary/25" href="${data.hero.cta_primary.href}">
                        <span class="relative z-10">${data.hero.cta_primary.text}</span>
                        <svg aria-hidden="true" class="relative z-10 transition-transform group-hover:translate-x-0.5" fill="none" height="18" viewBox="0 0 24 24" width="18">
                            <path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path>
                        </svg>
                    </a>
                    <a class="group relative inline-flex items-center gap-3 rounded-[40px] px-7 py-3.5 text-charcoal ring-1 ring-charcoal/20 backdrop-blur-sm transition-all duration-300 hover:bg-white/50 hover:ring-charcoal/30 focus:outline-none focus-visible:ring-4 focus-visible:ring-primary/30" href="${data.hero.cta_secondary.href}">
                        <span>${data.hero.cta_secondary.text}</span>
                        <svg aria-hidden="true" class="transition-transform group-hover:translate-x-0.5" fill="none" height="18" viewBox="0 0 24 24" width="18">
                            <path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path>
                        </svg>
                    </a>`;

                // Réalisations
                document.getElementById('realisations-title').innerHTML = data.realisations.title;
                const realisationsGrid = document.getElementById('realisations-grid');
                let realisationsHTML = '';
                data.realisations.projects.forEach(project => {
                    realisationsHTML += `
                        <article class="group rounded-2.5xl bg-white ring-1 ring-sage/60 overflow-hidden shadow-card hover:shadow-soft transition-shadow">
                            <a class="group relative block overflow-hidden rounded-3xl ring-1 ring-black/5 shadow-sm bg-white transition-transform duration-300 motion-safe:hover:-translate-y-0.5"
                                data-lightbox-alt="${project.caption}" data-lightbox-src="${project.image}" href="#">
                                <div class="relative aspect-[4/3] overflow-hidden">
                                    <img alt="${project.caption}" class="transition ease-out w-full transition-transform duration-300 motion-safe:group-hover:scale-[1.03] h-full aspect-[4/3] object-cover group-hover:scale-[1.03] duration-500"
                                        decoding="async" loading="lazy" src="${project.image}" />
                                    <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/20 via-black/0 to-transparent opacity-0 transition-opacity duration-300 motion-safe:group-hover:opacity-100"></div>
                                    <div class="pointer-events-none absolute bottom-3 left-3 right-3 flex items-center justify-between">
                                        <span class="rounded-full bg-white/85 backdrop-blur px-3 py-1 text-sm font-medium text-[#2c2421] shadow-sm ring-1 ring-black/5 transition-transform duration-300 motion-safe:group-hover:-translate-y-0.5">${project.caption}</span>
                                    </div>
                                </div>
                            </a>
                        </article>`;
                });
                realisationsGrid.innerHTML = realisationsHTML;

                // Services
                document.getElementById('services-title').innerHTML = data.services.title;
                const servicesGrid = document.getElementById('services-grid');
                let servicesHTML = '';
                const serviceIcons = [
                    `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5" /><path d="M9 18h6" /><path d="M10 22h4" /></svg>`,
                    `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>`,
                    `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="m9 14 2 2 4-4"></path></svg>`
                ];
                data.services.cards.forEach((card, index) => {
                    const isPopular = card.is_popular;
                    servicesHTML += `
                        <article class="${isPopular ? 'group relative flex flex-col rounded-2.5xl bg-primary text-white p-8 shadow-xl ring-2 ring-primaryDark transition-all duration-300 lg:-translate-y-4' : 'group flex flex-col rounded-2.5xl bg-white ring-1 ring-sage/60 p-8 shadow-card hover:shadow-soft transition-all duration-300 hover:-translate-y-1.5'}">
                            ${isPopular ? '<span class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 inline-block bg-gold text-white px-4 py-1 rounded-full text-sm font-semibold uppercase tracking-wider">Populaire</span>' : ''}
                            <div class="flex items-center gap-4">
                                <span class="${isPopular ? 'inline-flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-white/20 text-white' : 'inline-flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/15 text-primary'}">
                                    ${serviceIcons[index]}
                                </span>
                                <h3 class="${isPopular ? 'font-display text-2xl' : 'font-display text-xl text-charcoal'}">${card.title}</h3>
                            </div>
                            <p class="mt-4 flex-grow ${isPopular ? 'text-sage' : 'text-taupe'}">${card.description}</p>
                            <div class="mt-6 pt-6 border-t ${isPopular ? 'border-white/20' : 'border-linen'}">
                                <div class="text-sm">
                                    <span class="${card.tag_class}">${card.tag_text}</span>
                                </div>
                                <a class="mt-5 inline-flex items-center gap-2 ${isPopular ? 'font-semibold text-white hover:text-sage' : 'font-medium text-charcoal hover:text-primary'} transition-colors" href="${card.link.href}">
                                    ${card.link.text}
                                    <svg class="transition-transform group-hover:translate-x-0.5" fill="none" height="18" viewBox="0 0 24 24" width="18">
                                        <path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path>
                                    </svg>
                                </a>
                            </div>
                        </article>`;
                });
                servicesGrid.innerHTML = servicesHTML;

                // About
                document.getElementById('about-title').innerHTML = data.about.title;
                document.getElementById('about-text').innerHTML = data.about.text;
                document.getElementById('about-image').src = data.about.image.src;
                document.getElementById('about-image').alt = data.about.image.alt;
                document.getElementById('about-buttons').innerHTML = `
                    <a class="ring-1 ring-black/5 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#557f6a]/60 hover:bg-[#4a6d5a] inline-flex items-center justify-center rounded-full bg-[#557f6a] text-white px-6 py-3 shadow-soft hover:shadow-card transition-all focus-outline" href="${data.about.cta_primary.href}">${data.about.cta_primary.text}</a>
                    <a class="inline-flex items-center justify-center rounded-full border border-sage bg-white/70 px-6 py-3 hover:bg-sage/30 transition-colors focus-outline" href="${data.about.cta_secondary.href}">${data.about.cta_secondary.text}</a>`;

                // Testimonials
                document.getElementById('testimonials-title').innerHTML = data.testimonials.title;
                const slidesContainer = document.getElementById('slides');
                const dotsContainer = document.getElementById('testimonials-dots');
                let slidesHTML = '';
                let dotsHTML = '';
                data.testimonials.slides.forEach((slide, index) => {
                    slidesHTML += `
                        <div class="inline-block align-top w-full min-w-full p-8 whitespace-normal">
                            <div class="max-w-3xl mx-auto flex flex-col sm:flex-row gap-6 items-start">
                                <img alt="${slide.author.alt}" class="h-16 w-16 rounded-full object-cover" src="${slide.author.image}" />
                                <blockquote class="text-lg leading-7 text-charcoal italic">
                                    « ${slide.quote} »
                                    <footer class="mt-4 text-sm text-taupe not-italic">${slide.author.info}</footer>
                                </blockquote>
                            </div>
                        </div>`;
                    dotsHTML += `<button aria-label="Aller au témoignage ${index + 1}" class="dot h-2.5 w-2.5 rounded-full bg-primary/30"></button>`;
                });
                slidesContainer.innerHTML = slidesHTML;
                dotsContainer.innerHTML = dotsHTML;

                // FAQ
                document.getElementById('faq-title').innerHTML = data.faq.title;
                const faqList = document.getElementById('faq-list');
                let faqHTML = '';
                data.faq.items.forEach(item => {
                    faqHTML += `
                        <details class="group rounded-2.5xl bg-white ring-1 ring-sage/60 p-5 shadow-card open:shadow-soft transition-shadow duration-300">
                            <summary class="flex items-center justify-between cursor-pointer list-none">
                                <span class="font-medium text-charcoal">${item.question}</span>
                                <svg class="ml-4 transition-transform duration-300 group-open:rotate-180" fill="none" height="18" viewBox="0 0 24 24" width="18">
                                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"></path>
                                </svg>
                            </summary>
                            <div class="text-taupe overflow-hidden max-h-0 opacity-0 transition-all duration-500 ease-in-out group-open:max-h-96 group-open:opacity-100 group-open:mt-4">
                                <div class="leading-relaxed">${item.answer}</div>
                            </div>
                        </details>`;
                });
                faqList.innerHTML = faqHTML;
                document.getElementById('faq-cta-text').textContent = data.faq.cta.text;
                const faqCtaButton = document.getElementById('faq-cta-button');
                faqCtaButton.textContent = data.faq.cta.button_text;
                faqCtaButton.href = data.faq.cta.button_href;

                // Contact
                document.getElementById('contact-title').innerHTML = data.contact.title;
                document.getElementById('contact-subtitle').textContent = data.contact.subtitle;
                document.getElementById('contact-card-image').src = data.contact.card.image.src;
                document.getElementById('contact-card-image').alt = data.contact.card.image.alt;
                document.getElementById('contact-card-name').textContent = data.contact.card.name;
                document.getElementById('contact-card-meeting-title').textContent = data.contact.card.meeting_title;
                document.getElementById('contact-card-duration').textContent = data.contact.card.duration;
                document.getElementById('contact-card-type').textContent = data.contact.card.type;
                document.getElementById('contact-card-description').textContent = data.contact.card.description;
                document.getElementById('contact-calendar-month').textContent = data.contact.calendar.month_year;
                document.getElementById('contact-calendar-selected-day').textContent = data.contact.calendar.selected_day_title;
                const timesContainer = document.getElementById('contact-calendar-times');
                let timesHTML = '';
                data.contact.calendar.available_times.forEach(time => {
                    timesHTML += `<button type="button" class="w-full rounded-lg border border-primary py-2.5 text-primary font-medium hover:bg-primary hover:text-white transition-colors focus-outline">${time}</button>`;
                });
                timesContainer.innerHTML = timesHTML;

                // Footer
                document.getElementById('footer-logo').src = data.footer.logo.src;
                document.getElementById('footer-logo').alt = data.footer.logo.alt;
                document.getElementById('footer-brand-name').textContent = data.footer.brand_name;
                document.getElementById('footer-description').textContent = data.footer.description;
                const footerSocials = document.getElementById('footer-socials');
                const socialIcons = {
                    Instagram: `<svg fill="none" height="18" viewBox="0 0 24 24" width="18"><rect height="18" rx="5" stroke="currentColor" stroke-width="1.5" width="18" x="3" y="3"></rect><circle cx="12" cy="12" r="3.5" stroke="currentColor" stroke-width="1.5"></circle><circle cx="17.5" cy="6.5" fill="currentColor" r="1"></circle></svg>`,
                    Pinterest: `<svg fill="none" height="18" viewBox="0 0 24 24" width="18"><path d="M12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9S3 7.03 3 12c0 3.76 2.33 6.97 5.62 8.24-.08-.7-.15-1.77.03-2.53l1.04-4.44s-.26-.52-.26-1.29c0-1.2.69-2.09 1.55-2.09.73 0 1.08.55 1.08 1.21 0 .74-.47 1.85-.72 2.88-.21.91.45 1.65 1.35 1.65 1.62 0 2.86-1.71 2.86-4.18 0-2.19-1.58-3.72-3.83-3.72-2.61 0-4.15 1.96-4.15 3.98 0 .79.3 1.64.67 2.1l.07.1-.29 1.16c-.09.34-.32 1.14-.34 1.29-.05.2-.17.24-.39.15-1.45-.61-2.36-2.54-2.36-4.09 0-3.33 2.42-6.39 6.98-6.39 3.67 0 6.53 2.62 6.53 6.12 0 3.65-2.29 6.59-5.47 6.59-1.07 0-2.07-.56-2.41-1.22 0 0-.52 2.08-.64 2.5-.19.72-.57 1.44-.92 2.01.83.26 1.71.4 2.63.4Z" fill="currentColor"></path></svg>`
                };
                let socialsHTML = '';
                data.footer.social_links.forEach(link => {
                    socialsHTML += `<a aria-label="${link.label}" class="inline-flex h-9 w-9 items-center justify-center rounded-full ring-1 ring-sage/60 hover:bg-sage/40" href="${link.href}">${socialIcons[link.label]}</a>`;
                });
                footerSocials.innerHTML = socialsHTML;

                const footerNav = document.getElementById('footer-nav');
                let footerNavHTML = '';
                data.footer.nav_links.forEach(link => {
                    footerNavHTML += `<li><a class="hover:text-primary transition-colors" href="${link.href}">${link.text}</a></li>`;
                });
                footerNav.innerHTML = footerNavHTML;

                const footerContact = document.getElementById('footer-contact');
                let footerContactHTML = '';
                data.footer.contact_info.forEach(item => {
                    footerContactHTML += `<li>${item.is_link ? `<a class="hover:text-primary transition-colors" href="${item.href}">${item.text}</a>` : item.text}</li>`;
                });
                footerContact.innerHTML = footerContactHTML;

                document.getElementById('footer-copyright').textContent = data.footer.copyright.replace('{year}', new Date().getFullYear());
                document.getElementById('footer-back-to-top').textContent = data.footer.back_to_top_text;

                // Re-initialize scripts that depend on dynamic content
                initializePageScripts();

            } catch (error) {
                console.error('Failed to load page content:', error);
            }
        }

        function initializePageScripts() {
            // Original scripts logic
            const burger = document.getElementById('burger');
            const drawer = document.getElementById('drawer');
            if (burger) burger.addEventListener('click', () => drawer.classList.toggle('hidden'));

            const slides = document.getElementById('slides');
            const dots = Array.from(document.querySelectorAll('.dot'));
            if (slides && dots.length > 0) {
                let index = 0, total = dots.length;
                let intervalId = null;
                function go(i) {
                    index = (i + total) % total;
                    slides.style.transform = `translateX(-${index * 100}%)`;
                    dots.forEach((d, k) => d.classList.toggle('bg-primary', k === index));
                    dots.forEach((d, k) => d.classList.toggle('bg-primary/30', k !== index));
                }
                function startSlider() {
                    if (intervalId) clearInterval(intervalId);
                    intervalId = setInterval(() => go(index + 1), 6000);
                }
                dots.forEach((d, i) => d.addEventListener('click', () => { go(i); startSlider(); }));
                go(0);
                startSlider();
            }

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) {
                        e.target.style.opacity = 1;
                        e.target.style.transform = 'translateY(0)';
                        e.target.classList.add('animate-fadeUp');
                        observer.unobserve(e.target);
                    }
                });
            }, { threshold: .12 });
            document.querySelectorAll('section, .cards article').forEach(el => {
                el.style.opacity = 0; el.style.transform = 'translateY(12px)';
                observer.observe(el);
            });

            document.querySelectorAll('a[href^="#"]').forEach(a => {
                a.addEventListener('click', (e) => {
                    const id = a.getAttribute('href');
                    const el = document.querySelector(id);
                    if (el) {
                        e.preventDefault();
                        window.scrollTo({ top: el.getBoundingClientRect().top + window.pageYOffset - 80, behavior: 'smooth' });
                        if (drawer && !drawer.classList.contains('hidden')) drawer.classList.add('hidden');
                    }
                })
            });

            // Lightbox logic
            const overlay = document.getElementById('lightbox-overlay');
            const img = document.getElementById('lightbox-img');
            const btnClose = overlay.querySelector('button[aria-label]');
            const btnPrev = overlay.querySelector('button[data-dir="prev"]');
            const btnNext = overlay.querySelector('button[data-dir="next"]');
            const cards = Array.from(document.querySelectorAll('a[data-lightbox-src]'));
            let currentIndex = -1;
            function openLightboxByIndex(index) {
                if (index < 0 || index >= cards.length) return;
                currentIndex = index;
                const a = cards[index];
                openLightbox(a.getAttribute('data-lightbox-src'), a.getAttribute('data-lightbox-alt') || '');
            }
            function openLightbox(src, alt) {
                img.src = src;
                img.alt = alt || '';
                overlay.classList.remove('hidden');
                document.documentElement.classList.add('overflow-y-hidden');
            }
            function closeLightbox() {
                overlay.classList.add('hidden');
                document.documentElement.classList.remove('overflow-y-hidden');
                img.removeAttribute('src');
            }
            function showPrev() { openLightboxByIndex((currentIndex - 1 + cards.length) % cards.length); }
            function showNext() { openLightboxByIndex((currentIndex + 1) % cards.length); }
            btnPrev.addEventListener('click', (e) => { e.stopPropagation(); showPrev(); });
            btnNext.addEventListener('click', (e) => { e.stopPropagation(); showNext(); });
            document.addEventListener('keydown', (e) => {
                if (overlay.classList.contains('hidden')) return;
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowLeft') showPrev();
                if (e.key === 'ArrowRight') showNext();
            });
            cards.forEach((a, i) => {
                a.addEventListener('click', (e) => {
                    e.preventDefault();
                    openLightboxByIndex(i);
                });
            });
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) closeLightbox();
            });
            btnClose.addEventListener('click', closeLightbox);
        }

        document.addEventListener('DOMContentLoaded', populateContent);
    </script>

</body>

</html>
